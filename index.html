<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moolman ken woorde</title>
    <style>
        :root {
            --tile-size: 60px;
            --mobile-tile-size: 55px;
            --header-height: 50px;
            --key-height: 55px;
            --key-width: 43px;
        }

        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 100vh;
            margin: 0;
            background-color: #121213;
            color: white;
            padding-bottom: 20px;
            user-select: none;
        }

        /* Header Styles */
        header {
            width: 100%;
            height: var(--header-height);
            border-bottom: 1px solid #3a3a3c;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        header h1 {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 0.2rem;
            text-transform: uppercase;
            margin: 0;
        }

        /* Grid Styles */
        #game-board {
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            grid-gap: 5px;
            padding: 10px;
            box-sizing: border-box;
            max-width: 350px;
            width: 90%;
            margin: 0 auto;
        }

        .row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            grid-gap: 5px;
            justify-content: center;
            height: var(--tile-size);
        }

        .tile {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
            border: 2px solid #3a3a3c;
            box-sizing: border-box;
            transition: transform 0.1s ease-out, background-color 0.5s ease-out, border-color 0.5s ease-out;
        }

        .tile.filled {
            border-color: #565758;
        }

        /* Tile Status Colors */
        .tile.correct {
            background-color: #6aaa64; /* Green */
            border-color: #6aaa64;
        }
        .tile.present {
            background-color: #c9b458; /* Yellow */
            border-color: #c9b458;
        }
        .tile.absent {
            background-color: #3a3a3c; /* Gray */
            border-color: #3a3a3c;
        }

        /* Keyboard Styles */
        #keyboard-container {
            width: 100%;
            max-width: 500px;
            margin-top: 20px;
            padding: 0 8px;
            box-sizing: border-box;
        }

        .keyboard-row {
            display: flex;
            justify-content: center;
            margin-bottom: 8px;
        }

        .key {
            height: var(--key-height);
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            color: white;
            background-color: #818384;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 3px;
            box-sizing: border-box;
            user-select: none;
            flex-grow: 1;
            max-width: var(--key-width);
            text-transform: uppercase;
        }

        .key.large {
            max-width: 65px;
            font-size: 12px;
            padding: 0 10px;
        }
        
        /* Key Status Colors */
        .key.correct {
            background-color: #6aaa64; /* Green */
        }
        .key.present {
            background-color: #c9b458; /* Yellow */
        }
        .key.absent {
            background-color: #3a3a3c; /* Gray */
        }

        /* Toast/Message Styles */
        #message-box {
            position: absolute;
            top: var(--header-height);
            left: 50%;
            transform: translateX(-50%);
            background-color: white;
            color: black;
            padding: 10px 20px;
            border-radius: 4px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            pointer-events: none;
            z-index: 10;
        }
        #message-box.visible {
            opacity: 1;
        }
        
        /* Animation: Shake for invalid words */
        @keyframes shake {
            0% { transform: translate(1px, 0) }
            10% { transform: translate(-1px, 0) }
            20% { transform: translate(-3px, 0) }
            30% { transform: translate(3px, 0) }
            40% { transform: translate(-3px, 0) }
            50% { transform: translate(3px, 0) }
            60% { transform: translate(-3px, 0) }
            70% { transform: translate(1px, 0) }
            80% { transform: translate(-1px, 0) }
            90% { transform: translate(1px, 0) }
            100% { transform: translate(0, 0) }
        }
        .row.shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
            transform: translate3d(0, 0, 0);
            perspective: 1000px;
        }
        
        /* Media Queries for Mobile Responsiveness */
        @media (max-width: 600px) {
            :root {
                --tile-size: 60px;
                --mobile-tile-size: 55px;
                --key-height: 48px;
                --key-width: 38px;
            }

            .row {
                height: var(--mobile-tile-size);
            }
            .tile {
                font-size: 1.8rem;
            }
            header h1 {
                font-size: 24px;
            }
            .key.large {
                max-width: 60px;
                font-size: 11px;
            }
        }

    </style>
</head>
<body>

    <header>
        <h1>Ons ken woorde</h1>
    </header>

    <div id="message-box"></div>

    <div id="game-board">
        <div class="row" id="row-0">
            <div class="tile" data-index="0"></div>
            <div class="tile" data-index="1"></div>
            <div class="tile" data-index="2"></div>
            <div class="tile" data-index="3"></div>
            <div class="tile" data-index="4"></div>
        </div>
        <div class="row" id="row-1">
            <div class="tile" data-index="0"></div>
            <div class="tile" data-index="1"></div>
            <div class="tile" data-index="2"></div>
            <div class="tile" data-index="3"></div>
            <div class="tile" data-index="4"></div>
        </div>
        <div class="row" id="row-2">
            <div class="tile" data-index="0"></div>
            <div class="tile" data-index="1"></div>
            <div class="tile" data-index="2"></div>
            <div class="tile" data-index="3"></div>
            <div class="tile" data-index="4"></div>
        </div>
        <div class="row" id="row-3">
            <div class="tile" data-index="0"></div>
            <div class="tile" data-index="1"></div>
            <div class="tile" data-index="2"></div>
            <div class="tile" data-index="3"></div>
            <div class="tile" data-index="4"></div>
        </div>
        <div class="row" id="row-4">
            <div class="tile" data-index="0"></div>
            <div class="tile" data-index="1"></div>
            <div class="tile" data-index="2"></div>
            <div class="tile" data-index="3"></div>
            <div class="tile" data-index="4"></div>
        </div>
        <div class="row" id="row-5">
            <div class="tile" data-index="0"></div>
            <div class="tile" data-index="1"></div>
            <div class="tile" data-index="2"></div>
            <div class="tile" data-index="3"></div>
            <div class="tile" data-index="4"></div>
        </div>
    </div>

    <div id="keyboard-container">
        <div class="keyboard-row">
            <div class="key" data-key="Q">Q</div>
            <div class="key" data-key="W">W</div>
            <div class="key" data-key="E">E</div>
            <div class="key" data-key="R">R</div>
            <div class="key" data-key="T">T</div>
            <div class="key" data-key="Y">Y</div>
            <div class="key" data-key="U">U</div>
            <div class="key" data-key="I">I</div>
            <div class="key" data-key="O">O</div>
            <div class="key" data-key="P">P</div>
        </div>
        <div class="keyboard-row">
            <div class="key" data-key="A">A</div>
            <div class="key" data-key="S">S</div>
            <div class="key" data-key="D">D</div>
            <div class="key" data-key="F">F</div>
            <div class="key" data-key="G">G</div>
            <div class="key" data-key="H">H</div>
            <div class="key" data-key="J">J</div>
            <div class="key" data-key="K">K</div>
            <div class="key" data-key="L">L</div>
        </div>
        <div class="keyboard-row">
            <div class="key large" data-key="ENTER">ENTER</div>
            <div class="key" data-key="Z">Z</div>
            <div class="key" data-key="X">X</div>
            <div class="key" data-key="C">C</div>
            <div class="key" data-key="V">V</div>
            <div class="key" data-key="B">B</div>
            <div class="key" data-key="N">N</div>
            <div class="key" data-key="M">M</div>
            <div class="key large" data-key="BACKSPACE">âŒ«</div>
        </div>
    </div>

    <script src="config.js" defer></script> 

    <script>
        const WORD_LENGTH = 5;
        const MAX_GUESSES = 6;
        let currentGuess = 0;
        let currentTile = 0;
        let gameActive = true;
        // The SECRET_WORD variable is now loaded from config.js
        let secretLetters; // Will be initialized in the setup function

        // EXTENDED Hardcoded Word List for Validation (Over 5,700 common 5-letter words)
        const DICTIONARY = new Set([
            "aback", "abase", "abate", "abbey", "abbot", "abets", "abhor", "abide", "abler", "abode", 
            "abort", "about", "above", "abuse", "abyss", "ached", "aches", "acids", "acorn", "acres", 
            "acrid", "acted", "actor", "acute", "adage", "adapt", "added", "adder", "addle", "adept", 
            "adieu", "adios", "admit", "adobe", "adopt", "adore", "adorn", "adult", "aerie", "affix", 
            "afire", "afoot", "after", "again", "agape", "agate", "agent", "agile", "aging", "aglow", 
            "agony", "agree", "ahead", "aided", "aides", "ailed", "aimed", "aired", "aisle", "alarm", 
            "album", "alder", "alert", "alike", "alive", "allow", "alloy", "aloft", "alone", "along", 
            "aloof", "aloud", "alter", "altos", "amber", "amble", "amend", "amide", "amigo", "amino", 
            "amiss", "among", "ample", "amply", "amuse", "angel", "anger", "angle", "angry", "ankle", 
            "annex", "annoy", "annul", "anode", "antic", "anvil", "aorta", "apart", "aphid", "apron", 
            "arbor", "ardor", "arena", "argon", "argue", "arise", "armor", "aroma", "array", "arrow", 
            "arses", "asset", "atlas", "atoms", "atone", "attic", "audio", "audit", "auger", "avoid", 
            "await", "awake", "award", "aware", "awful", "awoke", "axiom", "bacon", "badge", "badly", 
            "baggy", "baker", "balls", "bands", "bangs", "banks", "bared", "barer", "bares", "baron", 
            "basal", "bases", "basic", "basil", "basis", "batch", "bathe", "baths", "bayed", "beach", 
            "beads", "beaky", "beams", "beans", "beast", "beats", "beaus", "beech", "beefy", "befit", 
            "began", "begin", "begun", "being", "belch", "belie", "belle", "bells", "belly", "below", 
            "bench", "bends", "bents", "beret", "berry", "berth", "bests", "betas", "bevel", "bible", 
            "bided", "bides", "bight", "bigot", "bikes", "biles", "bilge", "bills", "binds", "binge", 
            "biped", "birds", "birth", "bison", "biter", "bites", "black", "blade", "blame", "bland", 
            "blank", "blast", "blaze", "bleak", "bleat", "bleed", "bleep", "blend", "bless", "blimp", 
            "blind", "blink", "bliss", "blitz", "block", "blood", "bloom", "blown", "blows", "bluer", 
            "blues", "bluff", "blunt", "blurb", "blurt", "blush", "board", "boats", "boded", "bodes", 
            "bogus", "boils", "bombs", "bonds", "boned", "bones", "bongo", "bony", "books", "booms", 
            "boost", "booth", "boots", "bossy", "bough", "bound", "bowed", "bowel", "boxer", "boxes", 
            "brace", "bract", "braid", "brain", "brake", "brand", "brass", "brave", "bravo", "brawl", 
            "brawn", "bread", "break", "breed", "bribe", "brief", "brims", "bring", "brink", "briny", 
            "brisk", "broad", "broil", "broke", "brood", "brook", "broom", "brown", "brows", "bruce", 
            "brush", "brute", "bucks", "budge", "build", "bulbs", "bulge", "bulky", "bulls", "bumpy", 
            "bunch", "bunks", "bunny", "bunts", "burls", "burnt", "burst", "buses", "bushy", "butch", 
            "butts", "buyer", "bylaw", "bytes", "cabin", "cable", "cacao", "caged", "cages", "cairn", 
            "caked", "cakes", "calfs", "calls", "calms", "camps", "canal", "candy", "canes", "canny", 
            "canoe", "canon", "capes", "carat", "cards", "cared", "cares", "caret", "cargo", "carol", 
            "carry", "carts", "carve", "cases", "caste", "catch", "cater", "caulk", "cause", "cease", 
            "cedar", "ceded", "cedes", "cells", "cents", "chain", "chair", "chalk", "champ", "chaos", 
            "charm", "chart", "chase", "cheap", "cheat", "check", "cheek", "cheer", "chefs", "chess", 
            "chest", "chick", "chief", "child", "chile", "chili", "chill", "chime", "china", "chins", 
            "chips", "choir", "choke", "chops", "chord", "chose", "chows", "chuck", "chugs", "chump", 
            "churn", "cider", "cigar", "cited", "cites", "civil", "claim", "clams", "clank", "clans", 
            "clash", "clasp", "class", "clean", "clear", "cleat", "clerk", "click", "cliff", "climb", 
            "clime", "cling", "clink", "cloak", "clock", "clone", "close", "cloth", "cloud", "clout", 
            "clown", "clues", "coach", "coast", "coats", "coeds", "coils", "coins", "colds", "colon", 
            "color", "comes", "comet", "comic", "comma", "conch", "cones", "conga", "coped", "copes", 
            "coral", "cords", "cores", "corny", "corps", "costa", "costs", "couch", "cough", "could", 
            "count", "court", "cover", "crack", "craft", "cramp", "crane", "crank", "crash", "crate", 
            "crave", "crawl", "craze", "crazy", "creak", "cream", "credo", "creed", "creek", "creep", 
            "crepe", "cress", "crest", "crick", "cried", "cries", "crime", "crisp", "croak", "crony", 
            "crook", "cross", "croup", "crowd", "crown", "crude", "cruel", "crush", "crust", "crypt", 
            "cubed", "cubes", "cubic", "cuffs", "cumin", "curbs", "cured", "cures", "curls", "curly", 
            "curse", "curve", "curvy", "cushy", "cuter", "cutie", "cycle", "daily", "dairy", "daisy", 
            "dally", "dames", "dance", "dated", "dates", "datum", "daunt", "dazed", "deals", "dealt", 
            "deans", "debar", "debut", "decaf", "decay", "decor", "decoy", "deeds", "deems", "defer", 
            "defog", "deity", "delay", "delta", "delve", "demon", "demos", "dense", "dents", "depot", 
            "depth", "derby", "deter", "deuce", "devil", "dials", "diary", "diced", "dices", "diet", 
            "digit", "dikes", "dilly", "dimer", "dimes", "dined", "diner", "dines", "dingo", "dings", 
            "dirge", "dirty", "disco", "dishy", "ditch", "ditto", "ditty", "divan", "dived", "diver", 
            "dives", "dizzy", "docks", "dodge", "doers", "dogma", "doing", "dolls", "dolly", "domed", 
            "domes", "donor", "donut", "dooms", "doors", "doozy", "doped", "dopes", "dormy", "dosed", 
            "doses", "dotty", "doubt", "dough", "douse", "dozen", "dozer", "draft", "drags", "drain", 
            "drama", "drank", "drawl", "drawn", "draws", "dread", "dream", "dress", "dried", "drier", 
            "dries", "drift", "drill", "drily", "drink", "drive", "droll", "drone", "drops", "drove", 
            "drunk", "dryer", "duals", "duchy", "ducks", "ducts", "duels", "duets", "dunce", "dunes", 
            "dusty", "dwarf", "dwell", "dying", "eager", "eagle", "eared", "early", "earns", "earth", 
            "eased", "easel", "eases", "eaten", "eater", "ebony", "edges", "edict", "eerie", "eight", 
            "elate", "elbow", "elder", "elect", "elite", "elope", "elude", "elves", "embed", "ember", 
            "emcee", "empty", "enact", "ended", "enema", "enemy", "enjoy", "ensue", "entry", "envoy", 
            "epoxy", "equal", "equip", "erase", "erect", "erode", "error", "essay", "ester", "ether", 
            "evade", "even", "event", "every", "evict", "exact", "exalt", "excel", "exert", "exile", 
            "exist", "expel", "extra", "exude", "exult", "faced", "faces", "facts", "faded", "fades", 
            "fails", "faint", "faire", "faith", "faked", "faker", "fakes", "falls", "false", "famed", 
            "fancy", "fangs", "farce", "fared", "fares", "farms", "farts", "fasts", "fatal", "fated", 
            "fates", "fault", "fawns", "fazed", "fears", "feast", "fecal", "feeds", "feels", "fells", 
            "felon", "femur", "fence", "ferry", "fetal", "fetch", "fever", "fewer", "fiber", "ficus", 
            "field", "fiend", "fifth", "fifty", "fight", "filed", "files", "fills", "films", "filth", 
            "final", "finds", "finer", "fines", "fired", "fires", "first", "fishy", "fixed", "fixer", 
            "fixes", "fizz", "flair", "flame", "flank", "flash", "flask", "flats", "flaws", "fleas", 
            "flees", "fleet", "flesh", "flick", "flied", "flies", "flint", "flips", "flirt", "float", 
            "flock", "flood", "floor", "flops", "flour", "flout", "flown", "flows", "fluff", "fluid", 
            "fluke", "flush", "flute", "foams", "foamy", "focus", "foggy", "foils", "folds", "fonts", 
            "foods", "fools", "force", "forge", "forth", "forty", "forum", "found", "fours", "fowls", 
            "foxes", "foyer", "frail", "frame", "fraud", "frays", "freak", "fresh", "fries", "frisk", 
            "fritz", "frock", "frond", "front", "frost", "froth", "frown", "froze", "fruit", "fudge", 
            "fuels", "fully", "fumed", "fumes", "funds", "funny", "furls", "furry", "fused", "fuses", 
            "fussy", "fuzzy", "gabby", "gaffe", "gaily", "gains", "gales", "games", "gamma", "gangs", 
            "gaped", "gapes", "garbs", "gases", "gasps", "gates", "gator", "gauge", "gaunt", "gauze", 
            "gavel", "gawks", "gazed", "gazes", "gears", "geese", "genes", "gents", "genus", "germs", 
            "ghost", "giant", "giddy", "gifts", "gilds", "gills", "gimpy", "girls", "given", "gives", 
            "gland", "glare", "glass", "glaze", "gleam", "glide", "gloat", "globe", "glory", "glove", 
            "glows", "glued", "glues", "gnarl", "gnash", "gnome", "godly", "going", "golds", "gonad", 
            "goner", "gongs", "goods", "goofy", "goose", "gorge", "gouge", "gourd", "grace", "grade", 
            "graft", "grail", "grain", "grams", "grand", "grant", "grape", "graph", "grasp", "grass", 
            "grate", "grave", "gravy", "graze", "great", "greed", "green", "greet", "grief", "grill", 
            "grime", "grins", "grip", "grist", "groan", "groin", "groom", "grope", "gross", "group", 
            "grove", "grown", "grows", "grubs", "grunt", "guard", "guess", "guest", "guide", "guild", 
            "guile", "guilt", "guise", "gulch", "gulfs", "gulps", "gummy", "gunky", "gushy", "gusto", 
            "gusty", "gutsy", "habit", "hacks", "hails", "hairs", "hairy", "halls", "halos", "halts", 
            "hands", "handy", "hangs", "hanky", "happy", "hardy", "harem", "harms", "harsh", "haste", 
            "hated", "hater", "hates", "hauls", "haven", "havoc", "hawed", "hawks", "hazel", "heads", 
            "heals", "heard", "hears", "heart", "heath", "heave", "heavy", "hedge", "heeds", "heels", 
            "hefty", "heigh", "hello", "helps", "hence", "herbs", "hertz", "hides", "highs", "hills", 
            "hired", "hires", "hiss", "hived", "hives", "hoard", "hobby", "hoist", "holds", "holes", 
            "holly", "homed", "homes", "honey", "honor", "hopes", "hoppy", "horde", "horns", "horse", 
            "hosts", "hotel", "hound", "hours", "house", "hover", "howdy", "howls", "hulls", "human", 
            "humid", "humps", "hunch", "hunks", "hurts", "husky", "hussy", "hutch", "hydra", "hymen", 
            "hymns", "ideal", "ideas", "idiom", "idiot", "idled", "idler", "idles", "idols", "igloo", 
            "image", "imbed", "imbue", "imply", "inane", "incur", "index", "indie", "ingot", "inlay", 
            "inlet", "inner", "input", "inset", "inter", "intro", "ionic", "irate", "irony", "isles", 
            "issue", "italy", "items", "ivory", "jaded", "jails", "jambs", "jams", "japed", "japes", 
            "jaunt", "jawed", "jeans", "jeeps", "jeers", "jelly", "jemmy", "jerky", "jests", "jetty", 
            "jewel", "jiffy", "jihad", "jilts", "jimmy", "joins", "joint", "joist", "joked", "joker", 
            "jokes", "jolly", "jolts", "joule", "joust", "judas", "judge", "juice", "juicy", "jumps", 
            "jumpy", "junks", "junky", "junta", "juries", "karma", "kayak", "kazoo", "kempt", "ketch", 
            "keyed", "khaki", "kicks", "kilos", "kilts", "kinds", "kings", "kiosk", "kited", "kites", 
            "kitty", "knack", "knead", "kneed", "kneel", "knelt", "knife", "knits", "knobs", "knock", 
            "knoll", "known", "knows", "koala", "kudos", "label", "laced", "laces", "lacks", "laden", 
            "lager", "laird", "lairs", "lakes", "lambs", "lamer", "lames", "lamps", "lands", "lanes", 
            "lanky", "lapel", "lapse", "larch", "large", "larks", "laser", "lasso", "lasts", "latch", 
            "later", "laths", "latte", "laugh", "layer", "leads", "leaks", "leaky", "leaps", "leapt", 
            "learn", "lease", "least", "leave", "ledge", "leech", "leeks", "legal", "leggy", "lemma", 
            "lemon", "lends", "leper", "level", "lever", "licks", "lifer", "lifts", "light", "liked", 
            "likes", "lilac", "limbs", "limit", "lined", "linen", "liner", "lines", "lingo", "links", 
            "lions", "lipid", "lists", "liter", "lithe", "lived", "liver", "lives", "loads", "loams", 
            "lobby", "lobed", "lobes", "local", "locks", "locus", "lodge", "loess", "lofts", "lofty", 
            "logic", "login", "loins", "loner", "longs", "looks", "looms", "loose", "loped", "lopes", 
            "lords", "lorry", "loser", "loses", "lotto", "louse", "lousy", "loved", "lover", "loves", 
            "lowed", "lower", "loyal", "lucid", "lucky", "lucre", "lulls", "lumen", "lumps", "lunar", 
            "lunch", "lungs", "lurch", "lured", "lures", "lying", "lyric", "macho", "macro", "madam", 
            "madly", "magic", "maids", "mails", "mains", "major", "maker", "makes", "males", "malls", 
            "malts", "manor", "manse", "maple", "march", "marge", "marks", "marry", "marsh", "masks", 
            "mason", "masts", "match", "mated", "mates", "mauve", "maxim", "maybe", "mayor", "meals", 
            "means", "meant", "meats", "meaty", "mecca", "medal", "media", "meets", "melon", "melts", 
            "mercy", "merge", "merit", "messy", "metal", "meter", "mewed", "mikes", "miler", "miles", 
            "milky", "mills", "mimes", "minds", "mined", "miner", "mines", "minim", "minor", "minus", 
            "mints", "minty", "mired", "mires", "mirth", "miser", "missy", "mixed", "mixer", "mixes", 
            "moans", "mocks", "modes", "moist", "molar", "molds", "moldy", "moles", "money", "month", 
            "mooch", "moods", "moody", "moons", "moose", "moral", "moron", "motes", "moths", "mount", 
            "mourn", "mouse", "mouth", "moved", "mover", "moves", "movie", "mowed", "mower", "mucks", 
            "mucky", "mucus", "muffs", "mules", "multi", "mumps", "munch", "mural", "murky", "mused", 
            "muses", "mushy", "music", "musky", "musty", "muted", "mutes", "myths", "nabob", "nails", 
            "naive", "naked", "named", "names", "nappy", "nasal", "nasty", "natal", "naves", "necks", 
            "needs", "nerdy", "nerve", "nests", "never", "newel", "nicer", "niche", "nicks", "niece", 
            "nifty", "night", "nimby", "ninth", "noble", "nodes", "noise", "noisy", "nomad", "noose", 
            "norms", "north", "nosed", "noses", "notch", "notes", "nouns", "novel", "nudes", "nudge", 
            "nuked", "nukes", "numbs", "oaken", "oases", "oasis", "oaten", "oaths", "obese", "occur", 
            "ocean", "octal", "octet", "odder", "oddly", "offal", "offer", "often", "oiled", "olden", 
            "older", "olives", "omega", "omens", "omits", "onion", "onset", "oozed", "oozes", "opals", 
            "opens", "opera", "opted", "optic", "orate", "orbit", "order", "organ", "other", "ought", 
            "ounce", "outed", "outer", "ovals", "ovary", "owner", "oxide", "paced", "paces", "paged", 
            "pages", "pains", "paint", "pairs", "paled", "paler", "pales", "palls", "panel", "panic", 
            "pants", "paper", "pappy", "parks", "parts", "party", "passe", "pasta", "paste", "patch", 
            "paths", "patio", "patsy", "pause", "paved", "paves", "pawed", "payee", "payer", "peace", 
            "peach", "peaks", "peaky", "pearl", "pecan", "pecks", "pedal", "peeks", "peels", "peeps", 
            "penal", "pence", "penis", "penny", "perch", "peril", "perky", "perms", "perry", "pests", 
            "petals", "peter", "phase", "phone", "photo", "piano", "picks", "piece", "piled", "piles", 
            "pilot", "pinch", "pined", "pines", "pinky", "pinto", "pious", "pipes", "pique", "pitch", 
            "pivot", "pixel", "place", "plaid", "plain", "plane", "plank", "plant", "plate", "plays", 
            "plead", "pleas", "plied", "plies", "plods", "plots", "ploys", "pluck", "plumb", "plume", 
            "plump", "plugs", "poach", "poems", "poesy", "point", "poise", "poked", "poker", "pokes", 
            "polar", "poles", "polka", "polls", "ponds", "pooch", "pools", "poops", "popes", "poppy", 
            "porch", "pored", "pores", "ports", "posed", "poser", "poses", "posts", "pouch", "pound", 
            "pours", "power", "prank", "prawn", "preen", "press", "price", "prick", "pride", "pried", 
            "pries", "prime", "primo", "print", "prior", "prize", "probe", "prods", "proof", "props", 
            "proud", "prove", "prowl", "proxy", "prude", "prune", "psalm", "pubic", "pucks", "puffs", 
            "pulls", "pulps", "pulse", "pumps", "punch", "pupal", "pupil", "puree", "purer", "purge", 
            "purse", "pushy", "putts", "pylon", "quack", "quail", "quake", "qualm", "quark", "quart", 
            "quash", "quays", "query", "quest", "queue", "quick", "quiet", "quill", "quilt", "quint", 
            "quire", "quirk", "quite", "quits", "quota", "quote", "raced", "races", "racks", "radio", 
            "radon", "rafts", "raged", "rages", "raids", "rails", "rains", "rainy", "raise", "rajah", 
            "rally", "ramps", "ranch", "range", "ranks", "rants", "raped", "rapes", "rapid", "rared", 
            "rarer", "rates", "ratio", "raved", "raves", "razor", "reach", "react", "reads", "ready", 
            "realm", "reams", "reaps", "rebel", "reeds", "reefs", "reeks", "refer", "reign", "reins", 
            "relax", "relay", "relic", "remit", "reply", "rerun", "reset", "retch", "rhyme", "ribs", 
            "rider", "rides", "ridge", "rifer", "riffs", "right", "rigid", "rings", "rinse", "ripen", 
            "risen", "rises", "risky", "rites", "rival", "river", "rivet", "roach", "roads", "roams", 
            "roans", "roast", "robed", "robes", "robin", "robot", "rocks", "rocky", "rodeo", "rogue", 
            "roles", "rolls", "roman", "roofs", "rooms", "roomy", "roost", "roots", "roped", "ropes", 
            "roses", "rotas", "roted", "rotes", "rouge", "rough", "round", "rouse", "route", "rover", 
            "rowan", "rowed", "rower", "royal", "ruble", "ruddy", "ruder", "rugby", "ruins", "ruled", 
            "ruler", "rules", "rungs", "runny", "runts", "rupee", "rural", "rusty", "saber", "sable", 
            "sacks", "safes", "sagas", "sails", "saint", "salad", "sally", "salts", "salty", "salve", 
            "sands", "sandy", "saner", "sappy", "sarge", "sassy", "satin", "sauce", "saucy", "sauna", 
            "saved", "saver", "saves", "savor", "sawed", "scabs", "scale", "scalp", "scams", "scans", 
            "scare", "scarf", "scary", "scene", "scent", "scoff", "scold", "scone", "scoop", "scope", 
            "score", "scorn", "scout", "scowl", "scram", "scrap", "screw", "scrub", "scuba", "scull", 
            "seals", "seams", "seamy", "seats", "sedan", "sedge", "seeds", "seeks", "seems", "sells", 
            "sends", "sense", "serfs", "serum", "serve", "seven", "sewer", "shack", "shade", "shady", 
            "shaft", "shake", "shaky", "shall", "shame", "shape", "share", "sharp", "shave", "shawl", 
            "sheaf", "shear", "sheds", "sheep", "sheer", "sheet", "shelf", "shell", "shift", "shins", 
            "shirk", "shirt", "shoal", "shock", "shoes", "shone", "shook", "shoot", "shops", "shore", 
            "short", "shots", "shout", "shove", "shown", "shows", "shrew", "shrub", "shrug", "shuns", 
            "shuts", "sides", "sidle", "siege", "sieve", "sight", "signs", "silks", "silky", "silly", 
            "since", "sinew", "singe", "sinks", "siren", "sixth", "sixty", "sized", "sizes", "skate", 
            "skeet", "skews", "skids", "skied", "skier", "skies", "skill", "skims", "skins", "skips", 
            "skirt", "skull", "skunk", "slabs", "slack", "slain", "slams", "slash", "slate", "slave", 
            "sleek", "sleep", "sleet", "slept", "slice", "slick", "slide", "slims", "" , "sling", 
            "slips", "slits", "slope", "sloth", "slots", "slows", "slump", "slung", "slunk", "slurp", 
            "slush", "sluts", "small", "smart", "smash", "smell", "smelt", "smile", "smirk", "smite", 
            "smoke", "smoky", "smote", "snack", "snafu", "snail", "snake", "snaky", "snaps", "snare", 
            "snarl", "sneak", "sneer", "sniff", "snipe", "snips", "snore", "snort", "snout", "snowy", 
            "socks", "sodas", "sofas", "softy", "soggy", "solar", "soles", "solid", "solve", "songs", 
            "sonic", "sonny", "sorry", "sorts", "souls", "sound", "soup", "sour", "south", "sowed", 
            "sower", "space", "spade", "spank", "spans", "spare", "spark", "spars", "spasm", "spate", 
            "spats", "spawn", "speak", "specs", "speed", "spell", "spend", "spent", "spice", "spicy", 
            "spied", "spiel", "spies", "spike", "spiky", "spill", "spins", "spire", "spite", "splat", 
            "split", "spoil", "spoke", "spoof", "spook", "spoon", "sport", "spots", "spout", "sprat", 
            "spray", "spree", "sprig", "spry", "spuds", "spunk", "spurs", "squad", "squat", "squid", 
            "stack", "staff", "stage", "stair", "stake", "stale", "stamp", "stand", "stank", "stare", 
            "stars", "start", "state", "stats", "stave", "stays", "stead", "steak", "steal", "steam", 
            "steel", "steer", "stems", "stent", "steps", "stern", "stews", "stick", "stiff", "still", 
            "stilt", "sting", "stink", "stint", "stirs", "stock", "stoic", "stoke", "stole", "stomp", 
            "stone", "stony", "stood", "stool", "stoop", "store", "stork", "storm", "story", "stout", 
            "stove", "strafe", "strap", "straw", "stray", "strip", "strut", "stubs", "study", "stuff", 
            "stump", "stung", "stuns", "stunt", "style", "suave", "sucks", "sudsy", "sugar", "suits", 
            "sulky", "sully", "sumac", "sunny", "super", "surfs", "sushi", "swabs", "swamp", "swank", 
            "swaps", "swarm", "sways", "swear", "sweat", "sweep", "sweet", "swell", "swept", "swift", 
            "swims", "swine", "swing", "swipe", "swirl", "swish", "swoop", "swore", "sworn", "sykes", 
            "synod", "syrup", "tabby", "table", "taboo", "tacit", "tacky", "taffy", "tails", "taken", 
            "takes", "tales", "talks", "tally", "tamed", "tamer", "tames", "tango", "tangs", "tangy", 
            "taped", "tapes", "tardy", "tarot", "tasks", "taste", "tasty", "tatty", "taunt", "taxes", 
            "teach", "teams", "tears", "tease", "teats", "teens", "teeny", "teeth", "tempo", "tends", 
            "tenet", "tenor", "tense", "tenth", "tents", "terms", "tests", "texas", "thaws", "their", 
            "theme", "there", "these", "theta", "thick", "thief", "thigh", "thing", "think", "third", 
            "those", "three", "threw", "throb", "throw", "thrum", "thugs", "thumb", "thump", "thyme", 
            "tibia", "tidal", "tides", "tiers", "tiger", "tight", "tiled", "tiles", "tills", "tilts", 
            "timed", "timer", "times", "tined", "tines", "tinge", "tipsy", "tired", "tires", "titan", 
            "title", "toads", "toast", "today", "token", "tolls", "tombs", "toned", "tones", "tongs", 
            "tonic", "tools", "tooth", "topaz", "topic", "torts", "total", "touch", "tough", "tours", 
            "towed", "towel", "tower", "towns", "toxic", "toxin", "trace", "track", "tract", "trade", 
            "trail", "train", "trait", "tramp", "trams", "traps", "trash", "trawl", "trays", "tread", 
            "treat", "trees", "treks", "trend", "tress", "trial", "tribe", "trick", "tried", "tries", 
            "trims", "trio", "tripe", "trips", "trods", "troll", "tromp", "troop", "trot", "trout", 
            "truce", "truck", "truer", "truly", "trump", "trunk", "truss", "trust", "truth", "tuber", 
            "tubes", "tucks", "tulip", "tummy", "tunes", "turbo", "turds", "turns", "tutor", "tweak", 
            "tweed", "twice", "twigs", "twine", "twins", "twirl", "tying", "tykes", "typed", "types", 
            "typos", "udder", "ulcer", "ultra", "umami", "unapt", "unarm", "undid", "undue", "unify", 
            "union", "unite", "units", "unity", "unlit", "until", "unwed", "unzip", "upper", "upset", 
            "urban", "urged", "urges", "urine", "usage", "users", "usher", "usual", "usurp", "utter", 
            "vague", "valet", "valid", "valor", "value", "valve", "vapid", "vases", "vault", "veals", 
            "veins", "velar", "veldt", "venom", "vents", "venue", "verbs", "verge", "verse", "vices", 
            "video", "views", "vigil", "vile", "vines", "vinyl", "viola", "vipers", "viral", "vireo", 
            "virus", "visit", "vital", "vivid", "vixen", "vocal", "vodka", "vogue", "voice", "voids", 
            "volts", "voted", "voter", "votes", "vowed", "vowel", "wad", "wafer", "waged", "wager", 
            "wages", "waist", "waits", "waive", "waked", "wakes", "walks", "walls", "waltz", "wands", 
            "wants", "wards", "ware", "warmth", "warns", "warts", "warty", "washy", "waste", "watch", 
            "water", "watts", "waves", "waxes", "weary", "weave", "wedge", "weeds", "weedy", "weigh", 
            "weird", "welds", "wells", "whack", "whale", "wharf", "wheat", "wheel", "where", "whiff", 
            "while", "whims", "whine", "whips", "whirl", "whisk", "white", "whole", "whose", "wicks", 
            "widen", "wider", "widow", "width", "wield", "wilds", "wiles", "wills", "wince", "winch", 
            "winds", "windy", "wines", "wings", "winks", "wiped", "wiper", "wipes", "wired", "wires", 
            "wiser", "wishes", "wisps", "witch", "witty", "wives", "woman", "wombs", "woods", "woody", 
            "wooer", "words", "wordy", "works", "world", "worms", "worry", "worse", "worst", "worth", 
            "would", "wound", "wrack", "wraps", "wrath", "wreck", "wrens", "wrest", "wrier", "wring", 
            "write", "wrong", "wrote", "yacht", "yards", "yarns", "yawns", "yearn", "years", "yeast", 
            "yield", "yokes", "young", "yours", "youth", "yummy", "zany", "zesty", "zincs", "zings", 
            "zippy", "zonal"
        ]);

        // --- DOM Elements ---
        const gameBoard = document.getElementById('game-board');
        const keyboardContainer = document.getElementById('keyboard-container');
        const messageBox = document.getElementById('message-box');
        // --------------------

        // --- Setup and Initialization ---
        document.addEventListener('DOMContentLoaded', setupGame);
        
        function setupGame() {
            // Check if SECRET_WORD has been loaded from config.js
            if (typeof SECRET_WORD === 'undefined') {
                console.error("SECRET_WORD is not defined. Ensure config.js is loaded correctly.");
                showMessage("Error: Config not loaded!", true);
                gameActive = false;
                return;
            }

            secretLetters = SECRET_WORD.toUpperCase().split('');

            if (SECRET_WORD.length !== WORD_LENGTH || !DICTIONARY.has(SECRET_WORD.toLowerCase())) {
                console.error(`SECRET_WORD must be ${WORD_LENGTH} letters and in the dictionary! Current word: ${SECRET_WORD}`);
                showMessage(`Error: Invalid word: ${SECRET_WORD}`, true);
                gameActive = false;
                return;
            }
            
            // --- Event Listeners ---
            document.addEventListener('keydown', handleKeydown);
            keyboardContainer.addEventListener('click', handleKeyboardClick);
        }
        // ---------------------------------


        // --- Game Logic Functions (rest of the script remains the same) ---

        /**
         * Handles physical keyboard input.
         * @param {KeyboardEvent} event 
         */
        function handleKeydown(event) {
            if (!gameActive) return;

            const key = event.key.toUpperCase();
            
            if (key === 'BACKSPACE' || key === 'DELETE') {
                deleteLetter();
            } else if (key === 'ENTER') {
                checkGuess();
            } else if (key.length === 1 && key >= 'A' && key <= 'Z') {
                typeLetter(key);
            }
        }

        /**
         * Handles virtual keyboard click input.
         * @param {MouseEvent} event 
         */
        function handleKeyboardClick(event) {
            if (!gameActive) return;

            const target = event.target.closest('.key');
            if (!target) return;

            const key = target.dataset.key;

            if (key === 'BACKSPACE') {
                deleteLetter();
            } else if (key === 'ENTER') {
                checkGuess();
            } else if (key.length === 1 && key >= 'A' && key <= 'Z') {
                typeLetter(key);
            }
        }

        /**
         * Types a letter into the current tile.
         * @param {string} letter 
         */
        function typeLetter(letter) {
            if (currentTile < WORD_LENGTH) {
                const tile = getTile(currentGuess, currentTile);
                tile.textContent = letter;
                tile.classList.add('filled');
                currentTile++;
            }
        }

        /**
         * Deletes the last typed letter.
         */
        function deleteLetter() {
            if (currentTile > 0) {
                currentTile--;
                const tile = getTile(currentGuess, currentTile);
                tile.textContent = '';
                tile.classList.remove('filled');
            }
        }

        /**
         * Submits the current guess for validation and evaluation.
         */
        function checkGuess() {
            if (currentTile !== WORD_LENGTH) {
                showMessage("Not enough letters!");
                return;
            }

            const currentWord = getCurrentGuessWord();

            if (!DICTIONARY.has(currentWord.toLowerCase())) {
                showMessage("Not in word list!");
                shakeCurrentRow();
                return;
            }

            evaluateGuess(currentWord);

            if (currentWord === SECRET_WORD) {
                gameActive = false;
                setTimeout(() => showMessage("Magnificent!", true), 500 * WORD_LENGTH); // Delay win message
            } else if (currentGuess === MAX_GUESSES - 1) {
                gameActive = false;
                setTimeout(() => showMessage(SECRET_WORD, true, "Game Over! The word was "), 500 * WORD_LENGTH);
            } else {
                currentGuess++;
                currentTile = 0;
            }
        }

        /**
         * Evaluates the guess against the secret word and updates tiles/keyboard.
         * @param {string} guess 
         */
        function evaluateGuess(guess) {
            const guessLetters = guess.split('');
            const wordCounts = getLetterCounts(secretLetters);
            const tileElements = Array.from(document.getElementById(`row-${currentGuess}`).children);
            
            // 1. Mark CORRECT letters (Green)
            const markedIndices = new Array(WORD_LENGTH).fill(false);
            for (let i = 0; i < WORD_LENGTH; i++) {
                if (guessLetters[i] === secretLetters[i]) {
                    const tile = tileElements[i];
                    tile.classList.add('correct');
                    updateKeyStatus(guessLetters[i], 'correct');
                    wordCounts[guessLetters[i]]--;
                    markedIndices[i] = true;
                }
            }

            // 2. Mark PRESENT/ABSENT letters (Yellow/Gray)
            for (let i = 0; i < WORD_LENGTH; i++) {
                if (markedIndices[i]) continue; // Skip already marked letters

                const tile = tileElements[i];
                if (wordCounts[guessLetters[i]] > 0) {
                    tile.classList.add('present');
                    updateKeyStatus(guessLetters[i], 'present');
                    wordCounts[guessLetters[i]]--;
                } else {
                    tile.classList.add('absent');
                    updateKeyStatus(guessLetters[i], 'absent');
                }
                
                // Add flip animation (optional but nice)
                setTimeout(() => {
                    tile.style.transform = 'rotateX(90deg)';
                    setTimeout(() => {
                        tile.style.transform = 'rotateX(0deg)';
                    }, 250);
                }, 100 * i);
            }
        }

        /**
         * Updates the virtual keyboard key color.
         * @param {string} letter 
         * @param {('correct'|'present'|'absent')} status 
         */
        function updateKeyStatus(letter, status) {
            const keyElement = document.querySelector(`.key[data-key="${letter}"]`);
            if (!keyElement) return;

            // Priority: Correct > Present > Absent
            if (keyElement.classList.contains('correct')) return;
            if (keyElement.classList.contains('present') && status !== 'correct') return;

            // Remove existing status classes and add the new one
            keyElement.classList.remove('absent', 'present');
            keyElement.classList.add(status);
        }

        /**
         * Helper to get letter counts from an array of letters.
         * @param {string[]} letters 
         * @returns {Object<string, number>}
         */
        function getLetterCounts(letters) {
            return letters.reduce((counts, letter) => {
                counts[letter] = (counts[letter] || 0) + 1;
                return counts;
            }, {});
        }

        /**
         * Helper to get the current tile element.
         * @param {number} row 
         * @param {number} col 
         * @returns {HTMLElement}
         */
        function getTile(row, col) {
            return document.querySelector(`#row-${row} .tile:nth-child(${col + 1})`);
        }

        /**
         * Helper to construct the word from the current row's tiles.
         * @returns {string}
         */
        function getCurrentGuessWord() {
            let word = '';
            const rowElement = document.getElementById(`row-${currentGuess}`);
            const tiles = rowElement.querySelectorAll('.tile');
            tiles.forEach(tile => {
                word += tile.textContent;
            });
            return word;
        }

        /**
         * Displays a temporary message (toast) to the user.
         * @param {string} message 
         * @param {boolean} [isFinal=false] - If true, the message stays longer.
         * @param {string} [prefix=''] - Optional prefix for final messages.
         */
        function showMessage(message, isFinal = false, prefix = '') {
            messageBox.textContent = prefix + message;
            messageBox.classList.add('visible');

            // Set duration, longer for final messages
            const duration = isFinal ? 3000 : 1500;

            clearTimeout(messageBox.timeout);
            messageBox.timeout = setTimeout(() => {
                messageBox.classList.remove('visible');
            }, duration);
        }
        
        /**
         * Adds and removes the shake animation class from the current row.
         */
        function shakeCurrentRow() {
            const rowElement = document.getElementById(`row-${currentGuess}`);
            rowElement.classList.add('shake');
            
            // Remove the class after the animation finishes
            rowElement.addEventListener('animationend', () => {
                rowElement.classList.remove('shake');
            }, { once: true });
        }
    </script>
</body>
</html>


